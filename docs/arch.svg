
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="100%" height="100%" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Arquitetura do Sistema BESS</text>
  
  <!-- Frontend Section -->
  <rect x="100" y="100" width="250" height="200" rx="10" fill="#e9ecef" stroke="#495057" stroke-width="2"/>
  <text x="225" y="130" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Frontend</text>
  
  <!-- Frontend Components -->
  <rect x="125" y="150" width="200" height="40" rx="5" fill="#4dabf7" stroke="#1864ab" stroke-width="1"/>
  <text x="225" y="175" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Vite + React</text>
  
  <rect x="125" y="200" width="200" height="40" rx="5" fill="#4dabf7" stroke="#1864ab" stroke-width="1"/>
  <text x="225" y="225" font-family="Arial" font-size="14" text-anchor="middle" fill="white">shadcn UI</text>
  
  <rect x="125" y="250" width="200" height="40" rx="5" fill="#4dabf7" stroke="#1864ab" stroke-width="1"/>
  <text x="225" y="275" font-family="Arial" font-size="14" text-anchor="middle" fill="white">TypeScript</text>
  
  <!-- Backend Section -->
  <rect x="450" y="100" width="250" height="200" rx="10" fill="#e9ecef" stroke="#495057" stroke-width="2"/>
  <text x="575" y="130" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Backend</text>
  
  <!-- Backend Components -->
  <rect x="475" y="150" width="200" height="40" rx="5" fill="#51cf66" stroke="#2b8a3e" stroke-width="1"/>
  <text x="575" y="175" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Supabase</text>
  
  <rect x="475" y="200" width="200" height="40" rx="5" fill="#51cf66" stroke="#2b8a3e" stroke-width="1"/>
  <text x="575" y="225" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Edge Functions (TypeScript)</text>
  
  <rect x="475" y="250" width="200" height="40" rx="5" fill="#51cf66" stroke="#2b8a3e" stroke-width="1"/>
  <text x="575" y="275" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Database</text>
  
  <!-- BESS Dimensioning Section -->
  <rect x="100" y="350" width="600" height="200" rx="10" fill="#e9ecef" stroke="#495057" stroke-width="2"/>
  <text x="400" y="380" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Dimensionamento BESS v2</text>
  
  <!-- Strategies -->
  <rect x="125" y="400" width="175" height="130" rx="5" fill="#fcc419" stroke="#e67700" stroke-width="1"/>
  <text x="212" y="425" font-family="Arial" font-size="14" text-anchor="middle" fill="#212529" font-weight="bold">Peak-Shaving</text>
  <text x="212" y="450" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">ΔP = alvo / %</text>
  <text x="212" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">E = ΔP × h / ηd</text>
  
  <rect x="312" y="400" width="175" height="130" rx="5" fill="#fcc419" stroke="#e67700" stroke-width="1"/>
  <text x="400" y="425" font-family="Arial" font-size="14" text-anchor="middle" fill="#212529" font-weight="bold">Arbitragem</text>
  <text x="400" y="450" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">P = 0.8 × avg_pico</text>
  <text x="400" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">E = P × h / ηd</text>
  
  <rect x="500" y="400" width="175" height="130" rx="5" fill="#fcc419" stroke="#e67700" stroke-width="1"/>
  <text x="587" y="425" font-family="Arial" font-size="14" text-anchor="middle" fill="#212529" font-weight="bold">Backup</text>
  <text x="587" y="450" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">P = carga crítica</text>
  <text x="587" y="470" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">E = P × h / ηd</text>
  
  <!-- BESS Specs -->
  <text x="400" y="540" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">Módulo Huawei: 108 kW / 215 kWh</text>
  <text x="400" y="560" font-family="Arial" font-size="12" text-anchor="middle" fill="#212529">Buffer: 10% • Mínimo: 10 kW / 20 kWh</text>
  
  <!-- Connecting Arrows -->
  <path d="M 350 200 L 450 200" stroke="#212529" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M 450 225 L 350 225" stroke="#212529" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  
  <!-- Arrow Marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#212529"/>
    </marker>
  </defs>
</svg>
